<!-- 
    ============================================
    STATISTICS PAGE - Productivity Analytics
    ============================================
    Displays comprehensive productivity metrics:
    - Key performance indicators (cards)
    - Task completion charts (7-day bar chart)
    - Category breakdown (doughnut chart)
    - Goals overview (grouped bar chart)
    - AI-generated insights
    ============================================
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Character encoding for proper text display -->
    <meta charset="UTF-8">
    <!-- Responsive viewport settings for mobile devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Link to main stylesheet -->
    <link rel="stylesheet" type="text/css" href="style.css">
    <!-- Font Awesome icons library -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Chart.js library for creating charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Page title shown in browser tab -->
    <title>Statistics - Lockin</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="../Assets/Logo.png">
</head>

<body>
    <!-- 
        ==========================================
        SIDEBAR NAVIGATION (Desktop/Tablet)
        ==========================================
        Navigation bar for larger screens.
        ==========================================
    -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <img src="../Assets/Logo.png" alt="Lockin Logo" class="sidebar-logo">
            <h1 class="sidebar-title">Lockin</h1>
        </div>

        <nav class="sidebar-nav">
            <a href="../Public/dashboard.html" class="nav-item">
                <i class="fas fa-home"></i>
                <span>Dashboard</span>
                <div class="nav-indicator"></div>
            </a>
            <a href="Planner.html" class="nav-item">
                <i class="fas fa-calendar-alt"></i>
                <span>Planner</span>
                <div class="nav-indicator"></div>
            </a>
            <a href="Goals.html" class="nav-item">
                <i class="fas fa-star"></i>
                <span>Goals</span>
                <div class="nav-indicator"></div>
            </a>
            <a href="Notes.html" class="nav-item">
                <i class="fas fa-sticky-note"></i>
                <span>Notes</span>
                <div class="nav-indicator"></div>
            </a>
            <a href="Stats.html" class="nav-item active">
                <i class="fas fa-chart-bar"></i>
                <span>Stats</span>
                <div class="nav-indicator"></div>
            </a>
        </nav>
        <div class="sidebar-login">
            <button id="authBtn" class="auth-btn">Logout</button>
            <div id="userGreeting" class="user-greeting">Hello, <span id="usernameDisplay"></span></div>
        </div>

        <div class="sidebar-footer">
            <p>&copy; 2026 Lockin</p>
        </div>
    </aside>

    <!-- 
        ==========================================
        ABOUT SECTION
        ==========================================
        Collapsible description of Planner page.
        ==========================================
    -->
    <div class="main-content">
       <details>
         <summary>About</summary>
         <div style="background-color: white; padding: 1px; border: 1px solid #ccc; border-radius: 15px;">
          <p>
            This web page is where you can see all of your statistics from this website.
            You will be able to see the number of tasks you have to do and how quick 
            you are in finishing tasks. You will also be able to see which time of the day 
            are you most productive and the time you spent on completing tasks.
         </p>

         <p> 
            This webpage helps with tracking your pace and to see what works best 
            for you. With this webpage, you will be able to know when you should work 
            the most and whether you should complete tasks faster or take a break. 
            You will see the trends in your work ethic which would help in improving 
            productivity.
         </p>
        </div>
      </details>
    </div>

    <!-- 
        ==========================================
        MAIN STATISTICS CONTENT
        ==========================================
        Dashboard showing all productivity metrics.
        ==========================================
    -->
    <div class="main-content">
        <h1 style="color: white; margin-bottom: 30px;">üìä Your Productivity Dashboard</h1>

        <!-- 
            ==========================================
            KEY METRICS CARDS
            ==========================================
            Five cards showing core statistics:
            1. Total Tasks
            2. Tasks Completed (with progress bar)
            3. Completion Rate (with progress bar)
            4. Goals Completed (with progress bar)
            5. Most Productive Day
            ==========================================
        -->
        <div class="stats-page-container">
            <!-- Card 1: Total tasks count -->
            <div class="stats-page-card">
                <div class="stats-page-label">Total Tasks</div>
                <div class="stats-page-number" id="totalTasks">0</div>
            </div>

            <!-- Card 2: Tasks completed with visual progress bar -->
            <div class="stats-page-card completed">
                <div class="stats-page-label">Tasks Completed</div>
                <div class="stats-page-number" id="completedTasks">0</div>
                <div class="stats-page-progress-bar">
                    <div class="stats-page-progress-fill" id="tasksProgress" style="width: 0%"></div>
                </div>
            </div>

            <!-- Card 3: Completion rate percentage with progress bar -->
            <div class="stats-page-card">
                <div class="stats-page-label">Completion Rate</div>
                <div class="stats-page-number" id="completionRate">0%</div>
                <div class="stats-page-progress-bar">
                    <div class="stats-page-progress-fill" id="rateProgress" style="width: 0%"></div>
                </div>
            </div>

            <!-- Card 4: Goals completed count with progress bar -->
            <div class="stats-page-card goals">
                <div class="stats-page-label">Goals Completed</div>
                <div class="stats-page-number" id="completedGoals">0</div>
                <div class="stats-page-progress-bar">
                    <div class="stats-page-progress-fill" id="goalProgress" style="width: 0%"></div>
                </div>
            </div>

            <!-- Card 5: Most productive day of the week -->
            <div class="stats-page-card productivity">
                <div class="stats-page-label">Most Productive Day</div>
                <div class="stats-page-number" id="productiveDay">-</div>
                <div class="stats-page-label" style="font-size: 0.8em; margin-top: 5px;" id="productiveCount"></div>
            </div>
        </div>

        <!-- 
            ==========================================
            CHARTS SECTION
            ==========================================
            Two side-by-side charts:
            1. 7-Day Task Completion (bar chart)
            2. Tasks by Category (doughnut chart)
            ==========================================
        -->
        <div class="stats-page-charts-container">
            <!-- Chart 1: Last 7 days task completion trend -->
            <div class="stats-page-chart-wrapper">
                <div class="stats-page-chart-title">üìà Tasks Completed (Last 7 Days)</div>
                <canvas id="tasksChart"></canvas>
            </div>

            <!-- Chart 2: Task distribution by category/type -->
            <div class="stats-page-chart-wrapper">
                <div class="stats-page-chart-title">üè∑Ô∏è Tasks by Category</div>
                <canvas id="categoryChart"></canvas>
            </div>
        </div>

        <!-- 
            ==========================================
            GOALS BREAKDOWN CHART
            ==========================================
            Grouped bar chart comparing total goals
            vs completed goals across all categories.
            ==========================================
        -->
        <div class="stats-page-chart-wrapper" style="margin-top: 30px;">
            <div class="stats-page-chart-title">üéñÔ∏è Goals Overview</div>
            <canvas id="goalsChart"></canvas>
        </div>

        <!-- 
            ==========================================
            PRODUCTIVITY INSIGHTS
            ==========================================
            AI-generated insights based on user data:
            - Completion rate feedback
            - Task backlog warnings
            - Goal progress updates
            - Most productive day analysis
            - Daily average calculations
            ==========================================
        -->
        <div class="stats-page-insights-container">
            <div class="stats-page-insights-title">üí° Productivity Insights</div>
            <!-- Insights populated by stats.js -->
            <div id="insightsContent">
                <div class="stats-page-no-data">No data available yet. Start adding tasks and goals!</div>
            </div>
        </div>
    </div>

    <!-- 
        ==========================================
        FOOTER
        ==========================================
        Copyright and attribution links.
        ==========================================
    -->
    <footer>
        &copy GABUD; PASCUA
        <p>
            W3Schools.com. (n.d.).
            <a href="https://www.w3schools.com/" target="_blank">
                https://www.w3schools.com/
            </a>
        </p>

        <p>
            GeeksforGeeks. (n.d.). GeeksforGeeks.
            <a href="https://www.geeksforgeeks.org/" target="_blank">
                https://www.geeksforgeeks.org/
            </a>
        </p>

        <p>
            Chart.js Documentation. (n.d.). Chart.js.
            <a href="https://www.chartjs.org/" target="_blank">
                https://www.chartjs.org/
            </a>
        </p>
    </footer>

    <!-- 
        ==========================================
        BOTTOM NAVIGATION (Mobile Only)
        ==========================================
        Touch-friendly bottom navigation bar.
        ==========================================
    -->
    <nav class="bottom-nav">
        <a href="../dashboard.html" class="bottom-nav-item">
            <i class="fas fa-home"></i>
        </a>
        <a href="Planner.html" class="bottom-nav-item">
            <i class="fas fa-calendar-alt"></i>
        </a>
        <a href="Goals.html" class="bottom-nav-item">
            <i class="fas fa-star"></i>
        </a>
        <a href="Notes.html" class="bottom-nav-item">
            <i class="fas fa-sticky-note"></i>
        </a>
        <a href="Stats.html" class="bottom-nav-item active">
            <i class="fas fa-chart-bar"></i>
        </a>
    </nav>

    <script src="index.js"></script>
    <!-- Link to stats.js for metrics calculation and chart rendering -->
    <script src="stats.js"></script>
    <!-- Link to navigation.js for responsive navigation system -->
    <script src="../navigation.js"></script>
</body>
</html>