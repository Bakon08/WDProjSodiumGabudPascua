<!-- 
    ============================================
    PLANNER PAGE - Task Management System
    ============================================
    Main task management interface with:
    - Active tasks table (incomplete)
    - Archive section (completed tasks)
    - Add/edit task functionality
    - Soft delete (complete) vs hard delete
    ============================================
-->
<!DOCTYPE html>
<html lang ="en">
<head>
  <!-- Character encoding for proper text display -->
  <meta charset="UTF-8">
  <!-- Responsive viewport settings for mobile devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Link to main stylesheet -->
  <link rel="stylesheet" type="text/css" href="style.css">
  <!-- Font Awesome icons library -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Page title shown in browser tab -->
  <title>Lockin</title>
  <!-- Favicon (logo shown in browser tab) -->
  <link rel="icon" type="image/png" href="../Assets/Logo.png">
</head>

<body> 
    <!-- 
        ==========================================
        SIDEBAR NAVIGATION (Desktop/Tablet)
        ==========================================
        Visible on desktop and tablet screens.
        Hidden on mobile (replaced by bottom nav).
        ==========================================
    -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <img src="../Assets/Logo.png" alt="Lockin Logo" class="sidebar-logo">
            <h1 class="sidebar-title">Lockin</h1>
        </div>

        <!-- Navigation links with icons -->
        <nav class="sidebar-nav">
            <!-- Dashboard link -->
            <a href="../Public/dashboard.html" class="nav-item">
                <i class="fas fa-home"></i>
                <span>Dashboard</span>
                <div class="nav-indicator"></div>
            </a>
            <!-- Planner link (currently active page) -->
            <a href="Planner.html" class="nav-item active">
                <i class="fas fa-calendar-alt"></i>
                <span>Planner</span>
                <div class="nav-indicator"></div>
            </a>
            <a href="Goals.html" class="nav-item">
                <i class="fas fa-star"></i>
                <span>Goals</span>
                <div class="nav-indicator"></div>
            </a>
            <a href="Notes.html" class="nav-item">
                <i class="fas fa-sticky-note"></i>
                <span>Notes</span>
                <div class="nav-indicator"></div>
            </a>
            <a href="Stats.html" class="nav-item">
                <i class="fas fa-chart-bar"></i>
                <span>Stats</span>
                <div class="nav-indicator"></div>
            </a>
        </nav>

        <div class="sidebar-login">
          <button id="authBtn" class="auth-btn">Logout</button>
          <div id="userGreeting" class="user-greeting">Hello, <span id="usernameDisplay"></span></div>
        </div>

        <!-- Sidebar footer with copyright -->
        <div class="sidebar-footer">
          <p>&copy; 2026 Lockin</p>
        </div>
    </aside>

    <!-- 
        ==========================================
        ABOUT SECTION
        ==========================================
        Collapsible description of Planner page.
        ==========================================
    -->
    <div class="main-content">
       <details>
         <summary>About</summary>
         <div style="background-color: white; padding: 1px; border: 1px solid #ccc; border-radius: 15px;">
          <p> 
            This will be the "main" webpage of the website. This is where you write 
            down the tasks you have and when they are due. You are also able to update 
            your progress on the task you are working on. We will add a feature where you
            will be able to write down the task type like school, house, family, personal, etc..
            This would help you organize you tasks across different backgrounds.
          </p>

          <p>
            This is the typical planner website where you can write down tasks but we format 
            it in a way that is very organized and easy to understand. It would also prioritize the 
            earliest due date to be on the top while the later ones to be at the bottom. There isn't 
            anything too special about this webpage but because it is connected to the other 
            webpages, it becomes a very powerful tool for productivity.
          </p>
        </div>
      </details>
    </div>

    <!-- 
        ==========================================
        TASKS TABLE - ACTIVE TASKS
        ==========================================
        Displays all incomplete tasks with:
        - Task title
        - Due date
        - Progress status
        - Task type (School/Personal/House/Work)
        - Action buttons (Complete/Edit/Delete)
        ==========================================
    -->
    <div class="main-content">
      <h2>ðŸ“… Planner</h2>

      <!-- Responsive table wrapper with horizontal scroll on mobile -->
      <div class="table-wrapper">
        <table class="tasks-table">
          <thead>
            <tr>
              <!-- Task title column with add button -->
              <th>
                Tasks
                <button class="add-btn" id="addNewTaskBtn">+ New Task</button>
              </th>
              <!-- Due date column -->
              <th>Due Date</th>
              <!-- Progress status column -->
              <th>Progress</th>
              <!-- Task type/category column -->
              <th style="word-break: break-all;">Task Type</th>
              <!-- Action buttons column (Complete/Edit/Delete) -->
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="tasksBody">
            <!-- Active tasks populated by planner.js -->
          </tbody>
        </table>
      </div>

      <!-- 
        ==========================================
        ARCHIVE SECTION - COMPLETED TASKS
        ==========================================
        Collapsible section showing completed tasks.
        Tasks marked as "complete" move here but
        remain in localStorage for statistics.
        Users can restore or permanently delete.
        ==========================================
      -->
      <div class="archive-section" style="margin-top: 30px;">
        <!-- Collapsible header with toggle arrow and count badge -->
        <h3 style="cursor: pointer; user-select: none; display: flex; align-items: center; gap: 10px;" id="archiveToggle">
          <span id="archiveIcon">â–¶</span> Recently Completed
          <span style="font-size: 14px; color: var(--stone-gray); font-weight: normal;" id="archiveCount">(0)</span>
        </h3>
        <!-- Archive content (hidden by default, toggles on click) -->
        <div id="archiveContent" style="display: none; margin-top: 15px;">
          <div class="table-wrapper">
            <table class="tasks-table">
              <thead>
                <tr>
                  <th>Task</th>
                  <th>Completed Date</th>
                  <th>Type</th>
                  <!-- Restore or permanently delete -->
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="completedTasksBody">
                <!-- Completed tasks populated by planner.js -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

        <!-- 
            ==========================================
            TASK FORM - ADD/EDIT TASK
            ==========================================
            Hidden by default. Shows when:
            - "+ New Task" button is clicked (add mode)
            - Edit button is clicked (edit mode)
            ==========================================
        -->
        <div class="tasks-input" id="TasksForm" style="display:none;">
          <!-- Task title input -->
          <input type="text" id="taskTitle" placeholder="Task title">
          <!-- Due date picker -->
          <input type="date" id="plannerDueDate" />
          <!-- Task type dropdown -->
          <select id="taskType" placeholder="Task Type">
            <option value="School">School</option>
            <option value="Personal">Personal</option>
            <option value="House">House</option>
            <option value="Work">Work</option>
          </select>
          <!-- Progress status dropdown -->
          <select id="taskProgress">
            <option value="Not Started">Not Started</option>
            <option value="In Progress">In Progress</option>
            <option value="Completed">Completed</option>
          </select>
          <!-- Save button (adds new or updates existing task) -->
          <button class="add-btn" id="saveTaskBtn">Save Task</button>
          <!-- Cancel button (hides form without saving) -->
          <button class="add-btn" id="cancelTaskBtn">Cancel</button>
        </div>

    <!-- 
        ==========================================
        FOOTER
        ==========================================
        Copyright and attribution links.
        ==========================================
    -->
    <footer>
      &copy GABUD; PASCUA
      <p> 
        W3Schools.com. (n.d.). 
        <a href="https://www.w3schools.com/" target="_blank">
          https://www.w3schools.com/
        </a>
      </p>

      <p>
        GeeksforGeeks. (n.d.). GeeksforGeeks.
        <a href="https://www.geeksforgeeks.org/" target="_blank">
          https://www.geeksforgeeks.org/
        </a>
      </p>
    </footer>

    <!-- 
        ==========================================
        BOTTOM NAVIGATION (Mobile Only)
        ==========================================
        Visible only on mobile screens.
        Touch-friendly navigation bar at bottom.
        ==========================================
    -->
    <nav class="bottom-nav">
        <a href="../dashboard.html" class="bottom-nav-item">
            <i class="fas fa-home"></i>
        </a>
        <a href="Planner.html" class="bottom-nav-item active">
            <i class="fas fa-calendar-alt"></i>
        </a>
        <a href="Goals.html" class="bottom-nav-item">
            <i class="fas fa-star"></i>
        </a>
        <a href="Notes.html" class="bottom-nav-item">
            <i class="fas fa-sticky-note"></i>
        </a>
        <a href="Stats.html" class="bottom-nav-item">
            <i class="fas fa-chart-bar"></i>
        </a>
    </nav>

    <script src="index.js"></script>
    <!-- Link to planner.js for task CRUD functionality -->
    <script src="planner.js"></script>
    <!-- Link to navigation.js for responsive navigation system -->
    <script src="../navigation.js"></script>
</body>
</html>